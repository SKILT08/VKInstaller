#! /usr/bin/python3.8
import os
import re
import time
import sys
import getpass
def installator():
    time.sleep(1)
    os.system("clear")
    print ("\033[32mInstalling...")
    time.sleep(2)
    os.system("clear")
    architecture = input("\033[0m\033[32mPlease, select your architecture and input number of this.\n\nFor exit use CTRL+C\n\n1. x86_64 (amd64)\n2. x86 (i386)\nInput number: ")
    if architecture == "1":
        print ("\033[32mInstalling... Please, wait.")
        print ("\033[32m")
        os.system("cd ~")
        time.sleep(2)
        print ("\033[32m")
        os.system("mkdir VK")
        time.sleep(2)
        print ("\033[32m")
        os.system("cd VK")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget https://desktop.userapi.com/get_last?platform=linux64&branch=master&packet=deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget http://ftp.br.debian.org/debian/pool/main/libg/libgnome-keyring/libgnome-keyring-common_3.12.0-1_all.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget http://ftp.br.debian.org/debian/pool/main/libg/libgnome-keyring/libgnome-keyring0_3.12.0-1+b2_amd64.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget http://ftp.br.debian.org/debian/pool/main/libi/libindicator/libindicator7_0.5.0-3+b1_amd64.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget http://ftp.br.debian.org/debian/pool/main/liba/libappindicator/libappindicator1_0.4.92-4_amd64.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo apt-get install gconf2")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i libgnome-keyring-common_3.12.0-1_all.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i libgnome-keyring0_3.12.0-1+b2_amd64.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i libindicator7_0.5.0-3+b1_amd64.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i libappindicator1_0.4.92-4_amd64.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo apt install libdbusmenu-gtk4")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i vk_5.0.1-1_amd64.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("cd ../")
        time.sleep(2)
        print ("\033[32m")
        os.system("rm -rf VK")
        time.sleep(2)
        print ("\033[32m")
        print ("\033[31mDone!")
    if architecture == "2":
        print ("\033[32mInstalling... Please, wait.")
        print ("\033[32m")
        os.system("cd ~")
        time.sleep(2)
        print ("\033[32m")
        os.system("mkdir VK")
        time.sleep(2)
        print ("\033[32m")
        os.system("cd VK")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget https://desktop.userapi.com/get_last?platform=linux64&branch=master&packet=deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget http://ftp.br.debian.org/debian/pool/main/libg/libgnome-keyring/libgnome-keyring-common_3.12.0-1_all.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget http://ftp.br.debian.org/debian/pool/main/libg/libgnome-keyring/libgnome-keyring0_3.12.0-1+b2_i386.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget http://ftp.br.debian.org/debian/pool/main/libi/libindicator/libindicator7_0.5.0-3+b1_i386.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("wget http://ftp.br.debian.org/debian/pool/main/liba/libappindicator/libappindicator1_0.4.92-4_i386.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo apt-get install gconf2")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i libgnome-keyring-common_3.12.0-1_all.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i libgnome-keyring0_3.12.0-1+b2_i386.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i libindicator7_0.5.0-3+b1_i386.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i libappindicator1_0.4.92-4_i386.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo apt install libdbusmenu-gtk4")
        time.sleep(2)
        print ("\033[32m")
        os.system("sudo dpkg -i vk_5.0.1-1_i386.deb")
        time.sleep(2)
        print ("\033[32m")
        os.system("cd ../")
        time.sleep(2)
        print ("\033[32m")
        os.system("rm -rf VK")
        time.sleep(2)
        print ("\033[32m")
        print ("\033[31mDone!")
    else:
        print ("\033[0m\033[31mUncorrect!")
        installator()
os.system("clear")
print ("\033[32mCreated by c4md & Mirivan")
if getpass.getuser() == "root":
    installator()
else:
    print ("Please run at root! Use - sudo ./vkinstall")
    exit()
